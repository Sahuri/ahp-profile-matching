<div id="content">
    <section widget-grid id="wgtHistory">
        <div class="row">
            <article class="col-sm-12">
                <!-- <div jarvis-widget id="mstFungsi" data-widget-color="red" data-widget-editbutton="false" data-widget-deletebutton="false"> -->
                <div jarvis-widget id="mstHistory" data-widget-colorbutton="false" data-widget-editbutton="false" data-widget-deletebutton="false">
                    <header>
                        <span class="widget-icon"> <i ng-class="isShowList ? 'fa fa-table' : 'fa fa-edit'"></i> </span>
                        <h2>{{getWord('Budget Transfer History')}}</h2>
                        <div class="va-table" style="height: 45px;text-align: right;float: right;margin-right: 10px;">
                            <div class="va-middle" ng-if="!isShowList">
                                <button id="btnBack" type="button" class="btn btn-primary" ng-click="ShowList()">
                                    <i class="fa fa-arrow-left"></i>
                                    {{getWord('Back')}}
                                </button>
                            </div>
                        </div>
                    </header>
                    <div>
                        <div class="widget-body" ng-show="isShowList">
                            <form name="frmHistory" id="frmHistory" class="form-horizontal">
                                <div class="row">
                                    <div class="col-md-12">
                                        <fieldset>
                                            <div class="form-group">
                                                <div class="col-md-12">
                                                    <div class="float-right">
                                                        <fieldset>
                                                            <div class="form-group">
                                                                <div class="col-md-3">
                                                                    <label class="control-label text-muted"><b>Plant</b></label>
                                                                    <!-- <select2 class="form-control input-lg select-custom" placeholder="-- --"></select2> -->
                                                                    <select2 class="form-control no-padding select-custom" id="plant" name="plant" ng-model="plant" s2-options="item.id as item.text for item in listPlant" placeholder="-- Choose Plant --"></select2>
                                                                </div>
                                                                <div class="col-md-2">
                                                                    <label class="control-label text-muted"><b>Start Date</b></label>
                                                                    <div class="input-group">
                                                                        <input type="text" name="startDate" class="form-control datepicker" ng-model="startDate" data-smart-datepicker data-date-format="dd.mm.yy" placeholder="dd.MM.yyyy">
                                                                    </div>

                                                                </div>
                                                                <div class="col-md-2">
                                                                    <label class="control-label text-muted"><b>End Date</b></label>
                                                                    <div class="input-group">
                                                                        <input type="text" name="endDate" class="form-control datepicker" ng-model="endDate" data-smart-datepicker data-date-format="dd.mm.yy" placeholder="dd.MM.yyyy">
                                                                    </div>
                                                                </div>
                                                                <div class="col-md-3">
                                                                    <label class="control-label text-muted"><b>&nbsp;</b></label>
                                                                    <div><button class="btn btn-primary" ng-click="find()"><i class="fa fa-spinner"></i>&nbsp;&nbsp;Load Data</button></div>
                                                                </div>
                                                                <div class="col-md-2">
                                                                    <label class="control-label text-muted"><b>&nbsp;</b></label>
                                                                    <div><button class="btn btn-success width-100" ng-click="downloadPDF()"><i class="fa fa-file-pdf-o"></i>&nbsp;&nbsp;Download</button></div>
                                                                </div>
                                                            </div>
                                                        </fieldset>
                                                    </div>
                                                </div>
                                            </div>
                                        </fieldset>
                                    </div>
                                </div>

                                <div class="row">
                                    <div class="col-md-12">
                                        <table datatable dt-options="ctrl.tableOptions" dt-columns="ctrl.tableColumns" dt-instance="ctrl.dtInstance" class="table table-striped table-bordered table-hover cursor-pointer" width="100%"></table>
                                    </div>
                                </div>
                            </form>
                        </div>

                        <div class="widget-body" ng-if="!isShowList">
                            <form name="frmHistoryDetail" id="frmHistoryDetail" class="form-horizontal">
                                <div class="row">
                                    <div class="col-md-6 text-left">
                                        <div class="form-group">
                                            <label class="col-md-4 control-label text-left">Number</label>
                                            <div class="col-lg-8">
                                                <input ng-disabled="true" type="text" class="form-control" ng-model="data.Kode" />
                                            </div>
                                        </div>
                                        <div class="form-group">
                                            <label class="col-md-4 control-label text-left">Transfer Type</label>
                                            <div class="col-lg-8">
                                                <input ng-disabled="true" type="text" class="form-control" ng-model="data.TypePengalihan" />
                                            </div>
                                        </div>
                                        <div class="form-group">
                                            <label class="col-md-4 control-label text-left">Plant</label>
                                            <div class="col-lg-8">
                                                <input ng-disabled="true" type="text" class="form-control" ng-model="data.Plant" />
                                            </div>
                                        </div>
                                        <div class="form-group">
                                            <label class="col-md-4 control-label text-left">PR Number</label>
                                            <div class="col-md-8">
                                                <input id="pr" name="pr" ng-model="data.NomorPR" class="form-control" maxlength="9" ng-disabled="true" />
                                            </div>
                                        </div>
                                        <div class="form-group" ng-if="false">
                                            <label class="col-md-4 control-label text-left">Reasons</label>
                                            <div class="col-md-8">
                                                <textarea rows="3" id="reasons" name="reasons" ng-model="data.AlasanReject" class="form-control textarea" maxlength="500" ng-disabled="true" />
                                            </div>
                                        </div>
                                        <div class="form-group">
                                            <label class="col-md-4 control-label text-left">FM Document Posting</label>
                                            <div class="col-md-8">
                                                <input ng-disabled="true" id="FMDocPosting" name="FMDocPosting" ng-model="data.FMDocPosting" class="form-control" maxlength="9" />
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-6 text-left">
                                        <div class="form-group">
                                            <label class="col-md-4 control-label text-left">Requester</label>
                                            <div class="col-lg-8">
                                                <input ng-disabled="true" type="text" class="form-control" ng-model="data.Requester" />
                                            </div>
                                        </div>
                                        <div class="form-group">
                                            <label class="col-md-4 control-label text-left">Justification</label>
                                            <div class="col-lg-8">
                                                <textarea rows="3" id="Justifikasi" name="Justifikasi" ng-model="data.Justifikasi" class="form-control textarea" maxlength="500" ng-disabled="true" />
                                            </div>
                                        </div>
                                        <div class="form-group">
                                            <label class="col-md-4 control-label text-left">Status</label>
                                            <div class="col-lg-8">
                                                <input ng-disabled="true" type="text" class="form-control" ng-model="data.ApprovalStatusName" />
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <br />
                                <div class="row">
                                    <div class="col-md-12 text-left">
                                        <div class="col-md-8 col-md-offset-2">
                                            <div>
                                                <div class="pad-t-2em pad-b-2em" style="-webkit-box-shadow: 0px 38px 29px -32px rgba(0,0,0,0.4);-moz-box-shadow: 0px 38px 29px -32px rgba(0,0,0,0.4);box-shadow: 0px 38px 29px -32px rgba(0,0,0,0.4); border: 1px solid #DDD;border-radius: 5px;background: #FFF;margin-top: -10px;">
                                                    <div class="row">
                                                        <div class="col-md-4">
                                                            <div class="form-group">
                                                                <div class="text-center">
                                                                    <div class="text-muted mar-b-1em"><b>Kurs</b></div>
                                                                    <div class="label fs-16 label-success">{{NumberFormatIDR(Kurs)}}</div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="col-md-4">
                                                            <div class="form-group">
                                                                <div class="col-lg-12 text-center">
                                                                    <div class="text-muted mar-b-1em"><b>Total Sender</b></div>
                                                                    <div class="label fs-16 label-success">{{NumberFormatIDR(hdr.totalSender)}}</div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="col-md-4">
                                                            <div class="form-group">
                                                                <div class="col-lg-12 text-center">
                                                                    <div class="text-muted mar-b-1em"><b>Total Receiver</b></div>
                                                                    <div class="label fs-16 label-success">{{NumberFormatIDR(hdr.totalReceiver)}}</div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>

                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <br>
                                <div class="row">
                                    <fieldset>
                                        <div class="col-md-12">
                                            <div class="jarviswidget mar-b-0" id="wid-id-7" data-widget-editbutton="false" data-widget-fullscreenbutton="false" data-widget-custombutton="false" data-widget-sortable="false" data-widget-deletebutton="false" data-widget-colorbutton="false" data-widget-togglebutton="false">
                                                <header>
                                                    <ul class="nav nav-tabs pull-left in">
                                                        <li class="active">
                                                            <a data-toggle="tab" href="#hhr1"> <i class="fa fa-lg"></i> <span class="hidden-mobile hidden-tablet">SENDER</span></a>
                                                        </li>
                                                        <li>
                                                            <a data-toggle="tab" href="#hhr2"> <i class="fa fa-lg"></i> <span class="hidden-mobile hidden-tablet">RECEIVER</span></a>
                                                        </li>
                                                        <li>
                                                            <a data-toggle="tab" href="#hhr3"> <i class="fa fa-lg"></i> <span class="hidden-mobile hidden-tablet">HISTORY STATUS</span></a>
                                                        </li>
                                                    </ul>
                                                </header>
                                                <div class="widget-body">
                                                    <div class="tab-content">
                                                        <div class="tab-pane active" id="hhr1">
                                                            <div class="table-responsive">
                                                                <table class="table table-bordered table-striped">
                                                                    <tr>
                                                                        <th>Cost Center</th>
                                                                        <th>Cost Element</th>
                                                                        <th class="text-center">Curr</th>
                                                                        <th class="text-right">Amount</th>
                                                                        <th class="text-right">LC1</th>
                                                                        <th class="text-right">LC2</th>
                                                                    </tr>
                                                                    <tbody>
                                                                        <tr ng-repeat="x in listApprove | filter:{'TipeCc':'SENDER'}">
                                                                            <td>
                                                                                {{x.CcDesc}}
                                                                            </td>
                                                                            <td>
                                                                                {{x.CeDesc}}
                                                                            </td>
                                                                            <td class="text-center">
                                                                                {{x.Curr}}
                                                                            </td>
                                                                            <td class="text-right">
                                                                                {{NumberFormatIDR(x.Amount)}}
                                                                            </td>
                                                                            <td class="text-right">
                                                                                {{NumberFormatIDR(x.Lc1)}}
                                                                            </td>
                                                                            <td class="text-right">
                                                                                {{NumberFormatIDR(x.Lc2)}}
                                                                            </td>
                                                                        </tr>
                                                                    </tbody>
                                                                </table>
                                                            </div>
                                                        </div>
                                                        <div class="tab-pane" id="hhr2">
                                                            <div class="table-responsive">
                                                                <table class="table table-bordered table-striped">
                                                                    <tr>
                                                                        <th>Cost Center</th>
                                                                        <th>Cost Element</th>
                                                                        <th class="text-center">Curr</th>
                                                                        <th class="text-right">Amount</th>
                                                                        <th class="text-right">LC1</th>
                                                                        <th class="text-right">LC2</th>
                                                                    </tr>
                                                                    <tbody>
                                                                        <tr ng-repeat="x in listApprove | filter:{'TipeCc':'RECEIVER'}">
                                                                            <td>
                                                                                {{x.CcDesc}}
                                                                            </td>
                                                                            <td>
                                                                                {{x.CeDesc}}
                                                                            </td>
                                                                            <td class="text-center">
                                                                                {{x.Curr}}
                                                                            </td>
                                                                            <td class="text-right">
                                                                                {{NumberFormatIDR(x.Amount)}}
                                                                            </td>
                                                                            <td class="text-right">
                                                                                {{NumberFormatIDR(x.Lc1)}}
                                                                            </td>
                                                                            <td class="text-right">
                                                                                {{NumberFormatIDR(x.Lc2)}}
                                                                            </td>
                                                                        </tr>
                                                                    </tbody>
                                                                </table>
                                                            </div>
                                                        </div>

                                                        <div class="tab-pane" id="hhr3">
                                                            <div class="table-responsive">
                                                                <table class="table table-bordered table-striped">
                                                                    <tr>
                                                                        <th>Number</th>
                                                                        <th>Approver</th>
                                                                        <th>User</th>
                                                                        <th>Approval Date</th>
                                                                        <th>Approved By</th>
                                                                        <th>Status</th>
                                                                        <th>Note</th>
                                                                    </tr>
                                                                    <tbody>
                                                                        <tr ng-repeat="x in listHistory">
                                                                            <td>
                                                                                {{x.NomorPengalihan}}
                                                                            </td>
                                                                            <td>
                                                                                {{x.TipeApprover}}
                                                                            </td>
                                                                            <td>
                                                                                {{x.UserId}}
                                                                            </td>
                                                                            <td>
                                                                                {{x.ApprovalDate}}
                                                                            </td>
                                                                            <td>
                                                                                {{x.ApprovedBy}}
                                                                            </td>
                                                                            <td>
                                                                                {{x.NamaStatus}}
                                                                            </td>
                                                                            <td>
                                                                                {{x.Note}}
                                                                            </td>
                                                                        </tr>
                                                                    </tbody>
                                                                </table>
                                                            </div>
                                                        </div>

                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </fieldset>
                                </div>
                                <div class="form-actions text-left">
                                    <div class="row">
                                        <div class="col-md-12">
                                            <button id="btnBack" type="button" class="btn btn-primary" ng-click="ShowList()">
                                                <i class="fa fa-arrow-left"></i>
                                                {{getWord('Back')}}
                                            </button>
                                        </div>
                                    </div>
                                </div>
                            </form>
                        </div>
                        <div class="row">
                            <div class="col-md-12">
                                <h6 class="bold text-primary">*Referensi TKO Nomor: B-008/PGE311/2011/S0</h6>
                            </div>
                        </div>
                    </div>
                </div>
            </article>
        </div>
    </section>
    <!-- content -->
</div>